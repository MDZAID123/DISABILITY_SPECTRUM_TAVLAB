const fs = require('fs');
const csvWriter = require('csv-writer').createObjectCsvWriter;

const calFunctions = require("./main.js");


var httpList=["http://www.du.ac.in/","https://registry.gov.in/faq.php","https://www.mha.gov.in/","https://www.india.gov.in/","https://ugadmission.uod.ac.in/","https://www.mirandahouse.ac.in/","https://home.iitd.ac.in/","http://www.ignou.ac.in/","http://maitreyi.ac.in/","https://www.sasi.ac.in/","https://www.jmi.ac.in/","https://www.ugc.ac.in/","https://www.amu.ac.in/","http://www.ipu.ac.in/","https://nta.ac.in/","https://www.upes.ac.in/","https://www.sharda.ac.in/","https://www.jiit.ac.in/","https://aktu.ac.in/","https://vit.ac.in/","https://www.jnu.ac.in/","https://aryabhattacollege.ac.in/","https://raiganjuniversity.ac.in/","https://vnit.ac.in","https://pec.ac.in/","https://uktech.ac.in/","http://csjmu.ac.in/","https://cusat.ac.in/","http://www.vidyasagar.ac.in/","https://www.purneauniversity.ac.in/","https://www.aiu.ac.in/","https://nagalanduniversity.ac.in/","https://www.manipuruniv.ac.in/","https://www.vbu.ac.in/","https://gecgudlavalleru.ac.in/","https://silveroakuni.ac.in/","https://www.vssut.ac.in/","https://www.kunainital.ac.in/","https://www.bhu.ac.in/","https://www.invertisuniversity.ac.in/","https://gecgudlavalleru.ac.in/","https://buruniv.ac.in/","https://www.rgpv.ac.in/","https://www.nitrkl.ac.in/","http://sliet.ac.in/","https://mjpru.ac.in/","https://www.presiuniv.ac.in/","https://mkuniversity.ac.in/","https://www.jammuuniversity.ac.in/","https://www.unigoa.ac.in/","https://www.jainuniversity.ac.in/","https://caluniv.ac.in/","http://www.rvrjcce.ac.in/","https://www.mungeruniversity.ac.in/","http://www.iitkgp.ac.in/","http://www.zakirhusaindelhicollege.ac.in/","https://www.sathyabama.ac.in/","https://www.bfuhs.ac.in/","https://www.gjust.ac.in/","https://cuet.samarth.ac.in/","https://astu.ac.in/","https://kru.ac.in/","http://www.jsrwomenscollege.ac.in/","https://nptel.ac.in/","https://shekhauni.ac.in/","https://admissions.keralauniversity.ac.in/","https://www.vssut.ac.in/","https://nith.ac.in/","https://kiit.ac.in/","https://www.ranchiuniversity.ac.in/","https://www.bdu.ac.in/","http://www.manit.ac.in/","https://puchd.ac.in/","https://aud.ac.in/","https://www.kuk.ac.in/","https://nirmauni.ac.in/","https://online.gndu.ac.in/","https://nios.ac.in/","https://www.iitm.ac.in/","https://msubaroda.ac.in/","https://www.mgu.ac.in/","http://www.uecu.ac.in/","https://unigug.ac.in/","https://www.bput.ac.in/","http://www.ideunom.ac.in/","https://www.ganpatuniversity.ac.in/","https://cutn.ac.in/","http://www.telanganauniversity.ac.in/","https://uou.ac.in/","https://www.bits-pilani.ac.in/","https://vsu.ac.in/","https://azimpremjiuniversity.edu.in/","http://www.jaduniv.edu.in/","https://www.pondiuni.edu.in/","https://www.sid.edu.in/","https://www.bennett.edu.in/","https://nalandauniv.edu.in/","https://americancollege.edu.in/","https://sru.edu.in/","https://www.sitpune.edu.in/","http://islamiacollege.edu.in/","https://aecwb.edu.in/","https://www.symbiosiscollege.edu.in/","https://www.siu.edu.in/","https://www.natboard.edu.in/","https://www.chitkara.edu.in/","https://plaksha.edu.in/","https://sabarmatiuniversity.edu.in/","https://ignouadmission.samarth.edu.in/","https://www.andhrauniversity.edu.in/","https://aec.edu.in/","https://kccollege.edu.in/","https://www.senateofseramporecollege.edu.in/","https://www.reva.edu.in/","https://jipmer.edu.in/","https://snu.edu.in/","https://www.srmist.edu.in/","https://www.dituniversity.edu.in/","https://www.adityatekkali.edu.in/","http://pkuniversity.edu.in/","https://www.nowgongcollege.edu.in/","https://www.sandipuniversity.edu.in/","http://www.jsu.edu.in/","https://www.galgotiasuniversity.edu.in/","https://srisriuniversity.edu.in/","https://www.dsu.edu.in/","https://www.bvuniversity.edu.in/","https://baou.edu.in/","https://www.veltech.edu.in/","https://www.basantidevicollege.edu.in/","https://www.bhabhauniversity.edu.in/","https://www.bitsom.edu.in/","https://ahduni.edu.in/","https://www.flame.edu.in/","http://bhc.edu.in/","https://sathayecollege.edu.in/","https://www.tvu.edu.in/","https://www.mahindrauniversity.edu.in/","https://anurag.edu.in/","https://mcc.edu.in/","https://www.cmr.edu.in/","https://mzu.edu.in/","https://www.gita.edu.in/","https://krea.edu.in/  **","https://egov.uok.edu.in/","https://www.glocaluniversity.edu.in/","https://opjsuniversity.edu.in/","https://ethirajcollege.edu.in/","http://www.siesascs.edu.in/","https://woxsen.edu.in/","https://www.ictmumbai.edu.in/","https://universalcollegeofengineering.edu.in/","https://ssit.edu.in/","https://assumptioncollege.edu.in/","https://www.aknu.edu.in/","https://www.vhnsnc.edu.in/","https://sairam.edu.in/","https://nnrg.edu.in/","https://mitwpu.edu.in/","https://thenewcollege.edu.in/","https://kristujayanti.edu.in/","https://www.rvce.edu.in/","https://nbe.edu.in/","https://www.gnauniversity.edu.in/","https://queenmaryscollege.edu.in/","https://shivalikcollege.edu.in/","http://www.rizvicollege.edu.in/","https://www.mckvie.edu.in/","https://www.universityoftechnology.edu.in/","https://upmsp.edu.in/","https://www.sssihl.edu.in/","https://aot.edu.in/","https://gcesalem.edu.in/","https://adypu.edu.in/","https://www.insofe.edu.in/","https://svvv.edu.in/","https://iujaipur.edu.in/","https://www.rashtriyamilitaryschools.edu.in/","https://mopvc.edu.in/","https://dpcoepune.edu.in/","https://atlasuniversity.edu.in/","https://www.cet.edu.in/","https://www.morigaoncollege.edu.in/","https://nitte.edu.in/","https://www.manavbhartiuniversity.edu.in/","https://gurunanakcollege.edu.in/","https://wcc.edu.in/","https://jecrcuniversity.edu.in/","http://www.tmv.edu.in/","https://www.psnacet.edu.in/","http://csir.res.in/","https://www.iari.res.in/","https://csirhrdg.res.in/","https://thsti.res.in/","https://cdri.res.in/","https://www.prl.res.in/","https://www.csio.res.in/","https://www.nin.res.in/","https://www.tifr.res.in/","https://niwe.res.in/","https://www.tropmet.res.in/","https://cpri.res.in/","https://www.neeri.res.in/","https://www.ipr.res.in/","https://www.ccmb.res.in/","https://www.ngri.res.in/","https://www.niist.res.in/","https://www.csmcri.res.in/","https://nbri.res.in/","https://ncpor.res.in/","https://www.igib.res.in/","http://www.iacs.res.in/","https://iigm.res.in/","https://www.icts.res.in/","https://www.ceeri.res.in/","https://www.nccs.res.in/","https://www.aries.res.in/","https://www.cftri.res.in/","https://www.ncbs.res.in/","https://www.nal.res.in/","https://www.immt.res.in/","https://www.cimap.res.in/","https://www.iihr.res.in/","https://nivedi.res.in/","https://www.nirt.res.in/","https://www.iicb.res.in/","https://ndri.res.in/","https://www.iiap.res.in/","https://www.wihg.res.in/","https://www.rgcb.res.in/","https://cecri.res.in/","https://www.niot.res.in/","https://www.ihbt.res.in/","https://www.csircmc.res.in/","https://www.iict.res.in/","https://www.kfri.res.in/","https://www.cgcri.res.in/","https://www.iuac.res.in/","http://www.niscair.res.in/","https://www.millets.res.in/","https://www.iip.res.in/","https://www.arci.res.in/","http://www.cazri.res.in/","https://iiim.res.in/","https://www.rri.res.in/","https://www.cmeri.res.in/","https://www.iopb.res.in/","http://www.cirg.res.in/","https://nise.res.in/","https://www.rcb.res.in/","http://www.iiwm.res.in/","https://www.neist.res.in/","https://www.cift.res.in/","https://www.bsip.res.in/","https://instem.res.in/","https://serc.res.in/","https://insaindia.res.in/","https://www.nari-icmr.res.in/","https://www.csr.res.in/","https://cmti.res.in/","https://ccrum.res.in/","http://www.spices.res.in/","https://www.ils.res.in/","https://nirrh.res.in/","https://www.ccamp.res.in/","https://urdip.res.in/","https://www.nirth.res.in/","https://newfms.ncl.res.in/","http://nianp.res.in/","https://www.nias.res.in/","https://www.imsc.res.in/","http://www.cswri.res.in/","https://www.bose.res.in/","https://jntbgri.res.in/","https://www.hri.res.in/","https://www.dcfr.res.in/","https://www.drmr.res.in/","http://www.tkdl.res.in/","http://www.nrcpb.res.in/","https://www.isichennai.res.in/","http://www.icar-crida.res.in/","https://kamp.res.in/","https://brns.res.in/","http://www.rmrc.res.in/","https://niscpr.res.in/","https://www.niab.res.in/","https://www.crrid.res.in/","https://www.cens.res.in/","http://pgs.iasri.res.in/","https://icmrnitm.res.in/","https://www.india.gov.in/","https://niti.gov.in/","https://www.mygov.in/","https://www.mha.gov.in/","https://data.gov.in/","https://www.education.gov.in/","https://www.mca.gov.in/","https://igod.gov.in/","https://www.indiapost.gov.in/","https://www.pib.gov.in/","https://dot.gov.in/","https://www.indiabudget.gov.in/","https://www.joinindiannavy.gov.in/","https://www.meity.gov.in/","https://punjab.gov.in/","https://www.mohfw.gov.in/","https://commerce.gov.in/","https://tourism.gov.in/","https://pgportal.gov.in/","https://www.digilocker.gov.in/","https://dst.gov.in/","https://delhi.gov.in/","https://email.gov.in/","https://sso.rajasthan.gov.in/","https://web.umang.gov.in/","https://www.tn.gov.in/","https://pmkisan.gov.in/","https://www.upsc.gov.in/","https://mnre.gov.in/","https://www.maharashtra.gov.in/","https://indiapostgdsonline.gov.in/","https://gem.gov.in/","https://uidai.gov.in/","https://mod.gov.in/","https://www.ipindia.gov.in/","https://haryana.gov.in/","https://state.bihar.gov.in/","https://www.gst.gov.in/","https://diksha.gov.in/","https://mib.gov.in/","https://www.goa.gov.in/","https://uk.gov.in/","https://www.isro.gov.in/","https://goaonline.gov.in/","https://selfregistration.cowin.gov.in/","https://www.epfindia.gov.in/","https://wb.gov.in/","https://kerala.gov.in/","https://www.ncs.gov.in/","http://www.upsssc.gov.in/","https://saralharyana.gov.in/","https://serviceonline.gov.in/","https://eprocure.gov.in/","https://wbregistration.gov.in/","https://www.nsws.gov.in/","https://swachhbharatmission.gov.in/","https://rtionline.gov.in/","https://egramswaraj.gov.in/","https://udyamregistration.gov.in/","https://crsorgi.gov.in/","https://eci.gov.in/","https://www.digitalgujarat.gov.in/","https://esampada.mohua.gov.in/","https://main.sci.gov.in/","https://incometaxindia.gov.in/","https://udiseplus.gov.in/","https://mptenders.gov.in/","https://indianrailways.gov.in/","https://doe.gov.in/","https://psc.ap.gov.in/","https://vmc.gov.in/","https://register.csc.gov.in/","https://doj.gov.in/","https://www.karnataka.gov.in/","https://www.karnatakaone.gov.in/","https://ts.meeseva.telangana.gov.in/","https://www.bis.gov.in/","https://www.ncvtmis.gov.in/","https://www.apprenticeshipindia.gov.in/","https://www.swavlambancard.gov.in/","https://labour.gov.in/","https://www.wbhealth.gov.in/","https://swayam.gov.in/","https://www.nia.gov.in/","https://nrlm.gov.in/","https://www.minorityaffairs.gov.in/","https://crpf.gov.in/","https://www.indiaculture.gov.in/","https://dopt.gov.in/","https://knowindia.india.gov.in/"];
async function evaluateAllWebsites() {
  const csvWriterInstance = csvWriter({
    path: 'htmlwcg2aa1.csv',
    header: [
      {id: 'url', title: 'URL'},
      {id: 'score', title: 'Score'},
      {id: 'percentage', title: 'Percentage'},
    ]
  });

  const records = [];

  for (let i = 0; i <=100; i++) {
    const messageList = await calFunctions.evaluateWebsite(httpList[i], 1);
    const score = calFunctions.evaluateScore(messageList, 1);
    const percentage = calFunctions.toPercent(score, 1);
    // console.log(messageList);
    console.log(httpList[i])
    console.log(score);


    records.push({
      url: httpList[i],
      score: score,
      percentage: percentage,
    });


  }

  csvWriterInstance.writeRecords(records)
    .then(() => console.log('The CSV file was written successfully.'));
}

evaluateAllWebsites();